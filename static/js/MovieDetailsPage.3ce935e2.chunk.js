(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[3],{33:function(e,t,r){"use strict";var n=r(37),c=r.n(n),a=r(38),s=r(39),i=r.n(s);i.a.defaults.baseURL="https://api.themoviedb.org/3/",i.a.defaults.params={api_key:"3b0a0f3678b03bfe7113d836939cb420",language:"en-US"};var u=function(){var e=Object(a.a)(c.a.mark((function e(){var t,r,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={url:"trending/movie/week"},e.next=4,i()(t);case 4:return r=e.sent,n=r.data,e.abrupt("return",n.results);case 9:e.prev=9,e.t0=e.catch(0),new Error("No response from server");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();function o(){return(o=Object(a.a)(c.a.mark((function e(t){var r,n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t)},e.next=4,i()(r,t);case 4:return n=e.sent,a=n.data,e.abrupt("return",a);case 9:e.prev=9,e.t0=e.catch(0),new Error("No response from server");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function p(){return(p=Object(a.a)(c.a.mark((function e(t){var r,n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t,"/credits")},e.next=4,i()(r,t);case 4:return n=e.sent,a=n.data,e.abrupt("return",a.cast);case 9:e.prev=9,e.t0=e.catch(0),new Error("No response from server");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function l(){return(l=Object(a.a)(c.a.mark((function e(t){var r,n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t,"/reviews")},e.next=4,i()(r,t);case 4:return n=e.sent,a=n.data,e.abrupt("return",a.results);case 9:e.prev=9,e.t0=e.catch(0),new Error("No response from server");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function h(){return(h=Object(a.a)(c.a.mark((function e(t){var r,n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"search/movie",params:{query:t}},e.next=4,i()(r);case 4:return n=e.sent,a=n.data,e.abrupt("return",a.results);case 9:e.prev=9,e.t0=e.catch(0),new Error("No response from server");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}var j={fetchTrendingMovies:u,fetchMovieDetails:function(e){return o.apply(this,arguments)},fetchMovieCast:function(e){return p.apply(this,arguments)},fetchMovieReviews:function(e){return l.apply(this,arguments)},fetchMoviesByQuery:function(e){return h.apply(this,arguments)}};t.a=j},70:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return l}));var n=r(34),c=r(0),a=r(2),s=r(9),i=r(33),u=r(1),o=Object(c.lazy)((function(){return r.e(1).then(r.bind(null,71))})),p=Object(c.lazy)((function(){return r.e(5).then(r.bind(null,72))}));function l(){var e=Object(a.h)().movieId,t=Object(a.i)(),r=t.url,l=t.path,h=Object(a.f)(),j=Object(a.g)(),b=Object(c.useState)(null),f=Object(n.a)(b,2),v=f[0],d=f[1],O=Object(c.useState)(!1),x=Object(n.a)(O,2),m=x[0],w=x[1],g=Object(c.useState)(!1),y=Object(n.a)(g,2),k=y[0],E=y[1];Object(c.useEffect)((function(){i.a.fetchMovieDetails(e).then(d)}),[e]);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{onClick:function(){if(j.state&&j.state.from)return h.push(j.state.from);h.push("/")},children:Object(u.jsx)("span",{children:"Go Back"})}),v&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w500").concat(v.poster_path),alt:v.title}),Object(u.jsxs)("h3",{children:[v.title,"(",v.release_date.split("-")[0],")"]}),Object(u.jsxs)("span",{children:["User Score: ",10*v.vote_average,"%"]}),Object(u.jsx)("h2",{children:"Overview"}),Object(u.jsx)("span",{children:v.overview}),Object(u.jsx)("h3",{children:"Genres"}),Object(u.jsx)("span",{children:v.genres.map((function(e){return e.name})).join(" ")}),Object(u.jsx)("hr",{}),Object(u.jsx)("span",{children:"Additional information"}),Object(u.jsx)("span",{role:"img","aria-label":"face emoji",children:"\ud83d\udc47\ud83c\udffb"}),Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsx)(s.c,{to:{pathname:"".concat(r,"/cast")},onClick:function(){!0===k&&E(!1),w(!0)},children:"Cast"})}),Object(u.jsx)("li",{children:Object(u.jsx)(s.c,{to:{pathname:"".concat(r,"/reviews")},onClick:function(){!0===m&&w(!1),E(!0)},children:"Reviews"})})]}),Object(u.jsx)("hr",{}),Object(u.jsxs)(c.Suspense,{fallback:Object(u.jsx)("h1",{children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c..."}),children:[Object(u.jsx)(a.a,{path:"".concat(l,"/:cast"),children:v&&m&&Object(u.jsx)(o,{})}),Object(u.jsx)(a.a,{path:"".concat(l,"/:reviews"),children:v&&k&&Object(u.jsx)(p,{})})]})]})]})}}}]);
//# sourceMappingURL=MovieDetailsPage.3ce935e2.chunk.js.map